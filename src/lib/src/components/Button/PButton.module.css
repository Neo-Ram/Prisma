/* Variables CSS para colores seguros para daltonismo */
:root {
  /* Colores base seguros para todos los tipos de daltonismo */
  --prisma-color-safe-blue: #0066cc;      /* Azul seguro para la mayoría de daltonismos */
  --prisma-color-safe-orange: #ff6600;    /* Naranja seguro - contrasta bien con azul */
  --prisma-color-safe-green: #00aa44;     /* Verde seguro */
  --prisma-color-safe-red: #cc0000;       /* Rojo seguro */
  --prisma-color-safe-gray: #666666;      /* Gris neutro seguro */
  --prisma-color-white: #ffffff;
  --prisma-color-black: #000000;
  
  /* Variables para espaciado - siguiendo convenciones de diseño */
  --prisma-spacing-xs: 4px;   /* Extra pequeño */
  --prisma-spacing-sm: 8px;   /* Pequeño */
  --prisma-spacing-md: 12px;  /* Mediano */
  --prisma-spacing-lg: 16px;  /* Grande */
  --prisma-spacing-xl: 24px;  /* Extra grande */
  
  /* Variables para bordes y sombras */
  --prisma-border-radius: 6px;
  --prisma-border-width: 2px;
  --prisma-focus-outline-width: 3px;
}

/* Clase base del botón - estilos comunes a todas las variantes */
.button {
  /* Reseteo de estilos por defecto del navegador */
  border: none;
  outline: none;
  background: none;
  
  /* Propiedades de display y layout */
  display: inline-flex;
  align-items: center;
  justify-content: center;
  
  /* Tipografía - usando fuente del sistema */
  font-family: inherit;
  font-weight: 500;
  text-decoration: none;
  
  /* Interactividad */
  cursor: pointer;
  user-select: none; /* Evita que el usuario seleccione el texto del botón */
  
  /* Transiciones suaves para efectos hover y focus */
  transition: all 0.2s ease-in-out;
  
  /* Bordes redondeados usando nuestra variable */
  border-radius: var(--prisma-border-radius);
  
  /* Accesibilidad - asegura que el botón sea fácil de tocar en móviles */
  touch-action: manipulation;
}

/* ====== VARIANTES DE ESTILO ====== */

/* Botón primario - para acciones principales como "Guardar", "Enviar" */
.primary {
  background-color: var(--prisma-color-safe-blue);
  color: var(--prisma-color-white);
  border: var(--prisma-border-width) solid var(--prisma-color-safe-blue);
}

.primary:hover:not(:disabled) {
  background-color: #0052a3; /* Azul más oscuro para el hover */
  border-color: #0052a3;
  transform: translateY(-1px); /* Efecto de elevación sutil */
}

/* Botón secundario - para acciones menos importantes */
.secondary {
  background-color: var(--prisma-color-safe-gray);
  color: var(--prisma-color-white);
  border: var(--prisma-border-width) solid var(--prisma-color-safe-gray);
}

.secondary:hover:not(:disabled) {
  background-color: #555555;
  border-color: #555555;
}

/* Botón outline - solo borde, fondo transparente */
.outline {
  background-color: transparent;
  color: var(--prisma-color-safe-blue);
  border: var(--prisma-border-width) solid var(--prisma-color-safe-blue);
}

.outline:hover:not(:disabled) {
  background-color: var(--prisma-color-safe-blue);
  color: var(--prisma-color-white);
}

/* Botón ghost - muy sutil, sin borde visible */
.ghost {
  background-color: transparent;
  color: var(--prisma-color-safe-blue);
  border: var(--prisma-border-width) solid transparent;
}

.ghost:hover:not(:disabled) {
  background-color: rgba(0, 102, 204, 0.1); /* Fondo azul muy transparente */
  border-color: var(--prisma-color-safe-blue);
}

/* ====== TAMAÑOS ====== */

.small {
  padding: var(--prisma-spacing-xs) var(--prisma-spacing-md);
  font-size: 14px;
  min-height: 32px; /* Altura mínima para facilitar el clic */
}

.medium {
  padding: var(--prisma-spacing-sm) var(--prisma-spacing-lg);
  font-size: 16px;
  min-height: 40px;
}

.large {
  padding: var(--prisma-spacing-md) var(--prisma-spacing-xl);
  font-size: 18px;
  min-height: 48px;
}

/* ====== ADAPTACIONES PARA DALTONISMO ====== */

/* Protanopia - dificultad para distinguir rojos */
.protanopia.primary {
  background-color: #0066cc; /* Azul más fuerte */
  border-color: #0066cc;
  /* Evitamos rojos, usamos azules que sí pueden distinguir */
}

.protanopia.primary:hover:not(:disabled) {
  background-color: #004499; /* Azul aún más oscuro */
  border-color: #004499;
}

/* Deuteranopia - dificultad para distinguir verdes */
.deuteranopia.primary {
  background-color: #8800cc; /* Púrpura - distinguible sin verdes */
  border-color: #8800cc;
  /* Evitamos verdes, usamos púrpuras que sí pueden distinguir */
}

.deuteranopia.primary:hover:not(:disabled) {
  background-color: #660099; /* Púrpura más oscuro */
  border-color: #660099;
}

/* Estilos adicionales para protanopia */
.protanopia.outline {
  color: #0066cc;
  border-color: #0066cc;
}

.protanopia.outline:hover:not(:disabled) {
  background-color: #0066cc;
  color: var(--prisma-color-white);
}

.protanopia.ghost {
  color: #0066cc;
}

.protanopia.ghost:hover:not(:disabled) {
  background-color: rgba(0, 102, 204, 0.1);
  border-color: #0066cc;
}

/* Estilos adicionales para deuteranopia */
.deuteranopia.outline {
  color: #8800cc;
  border-color: #8800cc;
}

.deuteranopia.outline:hover:not(:disabled) {
  background-color: #8800cc;
  color: var(--prisma-color-white);
}

.deuteranopia.ghost {
  color: #8800cc;
}

.deuteranopia.ghost:hover:not(:disabled) {
  background-color: rgba(136, 0, 204, 0.1);
  border-color: #8800cc;
}

/* Tritanopia - dificultad para distinguir azules */
.tritanopia.primary {
  background-color: var(--prisma-color-safe-orange);
  border-color: var(--prisma-color-safe-orange);
  /* Usamos naranja en lugar de azul porque pueden distinguirlo mejor */
}

.tritanopia.primary:hover:not(:disabled) {
  background-color: #e55a00; /* Naranja más oscuro */
  border-color: #e55a00;
}

.tritanopia.outline {
  color: var(--prisma-color-safe-orange);
  border-color: var(--prisma-color-safe-orange);
}

.tritanopia.outline:hover:not(:disabled) {
  background-color: var(--prisma-color-safe-orange);
  color: var(--prisma-color-white);
}

.tritanopia.ghost {
  color: var(--prisma-color-safe-orange);
}

.tritanopia.ghost:hover:not(:disabled) {
  background-color: rgba(255, 102, 0, 0.1);
  border-color: var(--prisma-color-safe-orange);
}

/* ====== ALTO CONTRASTE ====== */
.highContrast {
  border-width: 3px; /* Bordes más gruesos para mayor visibilidad */
  font-weight: 700;  /* Texto más grueso */
}

.highContrast.primary {
  background-color: var(--prisma-color-black);
  color: var(--prisma-color-white);
  border-color: var(--prisma-color-white);
}

.highContrast.secondary {
  background-color: var(--prisma-color-white);
  color: var(--prisma-color-black);
  border-color: var(--prisma-color-black);
}

/* ====== MODIFICADORES ====== */

/* Ancho completo - útil en formularios */
.fullWidth {
  width: 100%;
}

/* Estado de carga */
.loading {
  pointer-events: none; /* No se puede hacer clic mientras carga */
  opacity: 0.7; /* Más transparente para indicar que no está disponible */
}

/* Animación del spinner de carga */
.loadingSpinner {
  animation: prismaSpinRotation 1s linear infinite;
}

@keyframes prismaSpinRotation {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

/* Estado deshabilitado */
.disabled {
  opacity: 0.5;
  cursor: not-allowed; /* Cursor que indica que no se puede usar */
  pointer-events: none;
}

/* ====== ACCESIBILIDAD ADICIONAL ====== */

/* Mejores contrastes para cuando el usuario navega con teclado */
.button:focus-visible {
  outline: var(--prisma-focus-outline-width) solid var(--prisma-color-safe-orange);
  outline-offset: 2px;
}

/* Estados para usuarios que prefieren menos movimiento */
@media (prefers-reduced-motion: reduce) {
  .button {
    transition: none; /* Sin animaciones si el usuario lo prefiere */
  }
  
  .button:hover:not(:disabled) {
    transform: none; /* Sin efecto de elevación */
  }
  
  .loadingSpinner {
    animation: none; /* Sin animación del spinner */
  }
}

/* Responsive - en pantallas pequeñas (móviles) */
@media (max-width: 768px) {
  .button {
    min-height: 44px; /* Tamaño mínimo táctil recomendado por las guías de accesibilidad */
  }
  
  .small {
    min-height: 44px; /* Incluso los botones pequeños deben ser fáciles de tocar */
    padding: var(--prisma-spacing-sm) var(--prisma-spacing-md);
  }
}